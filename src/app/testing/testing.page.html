<ion-header>
    <ion-toolbar>
        <ion-title>testing</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content color="medium">
    <div class="my-5">
        <ion-button (click)="startRecording()" color="primary" expand="full" class="ion-padding">
            <ion-icon name="mic-outline"></ion-icon> Start Recording
        </ion-button>
        <ion-button (click)="stopRecording()" color="danger" expand="full" class="ion-padding">
            <ion-icon name="mic-off-outline"></ion-icon> Stop Recording
        </ion-button>
    </div>
    <ion-list class="ion-no-padding">
        <div [id]="'record'+index" *ngFor="let record of storedFileNames;index as index">
            <ion-item button  detail="false" (click)="playRecord(record,index,$event.target)">
                {{record.name}}
                <!-- <ion-icon slot="end" (click)="playRecord(record,index,$event.target)"
                    [name]="recordPlayingIndex != index ?'play-outline':'pause-outline'">
                </ion-icon> -->
                <ion-icon name="trash-outline" color="danger" slot="end"
                    (click)="deleteRecord(record);$event.stopPropagation()">
                </ion-icon>
            </ion-item>
        </div>

    </ion-list>


    <ion-footer>
        <ion-toolbar>
            <ion-row class="ion-align-items-center">
                <ion-col size="10">
                    <span *ngIf="!isRecording">Press and hold to record</span>
                    <span *ngIf="isRecording">{{durationToDisplay}}</span>
                </ion-col>
                <ion-col size="2">
                    <ion-button fill="clear" #recordButton>
                        <ion-icon name="mic-outline"></ion-icon>
                    </ion-button>
                </ion-col>
            </ion-row>
        </ion-toolbar>

    </ion-footer>
</ion-content>